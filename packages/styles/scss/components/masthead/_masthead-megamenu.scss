/**
 * Copyright IBM Corp. 2016, 2020
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */

@mixin masthead-megamenu {
  .#{$prefix}--masthead__megamenu {
    &__l0-nav {
      &.#{$prefix}--header__submenu {
        position: static;
      }

      .#{$prefix}--header__menu-title[aria-expanded='true']
        + .#{$prefix}--header__menu {
        width: 100vw;
        overflow-x: scroll;
        min-height: carbon--mini-units(40);
      }
    }

    &__container {
      display: flex;
    }

    &__categories {
      column-count: 4;

      .#{$prefix}--masthead__megamenu__container--hasHighlights & {
        column-count: 3;
      }
    }

    &__categories-section {
      padding: $spacing-06 0 $layout-05;
      width: 100%;
    }

    &__menu-category {
      display: flex;
      flex-direction: column;
      margin-bottom: $spacing-07;
      overflow: hidden;
      break-inside: avoid-column;

      .#{$prefix}--link-with-icon__container {
        height: $spacing-07;
        display: flex;
      }
    }

    &__category-headline {
      .#{$prefix}--link-with-icon {
        padding: 0 $spacing-05;
        text-decoration: none;
        width: 100%;
      }

      span {
        color: $text-01;
        @include type-style('productive-heading-01');
      }

      svg {
        color: $link-01;
      }

      &:visited {
        color: $text-01;
      }

      &:hover {
        text-decoration: none;
        color: $text-01;
        background-color: $hover-ui;
      }
    }

    &__category-sublink {
      color: $text-02;
      text-decoration: none;
      line-height: $spacing-07;
      padding: 0 $spacing-05;
      @include type-style('body-short-01');

      &:hover,
      &:active {
        background-color: $hover-ui;
      }
    }

    &__highlight-section {
      width: 25%;
      padding-top: $spacing-06;
      border-right: carbon--rem(1px) solid $ui-03;
    }
  }
}

@include exports('masthead-megamenu') {
  @include masthead-megamenu;
}
