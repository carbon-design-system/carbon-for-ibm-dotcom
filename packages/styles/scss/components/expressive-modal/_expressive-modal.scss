/**
 * Copyright IBM Corp. 2016, 2021
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */

@use 'sass:list';

@use '../../globals/vars' as *;
@use '@carbon/styles/scss/breakpoint' as *;
@use '@carbon/styles/scss/config' as *;
@use '@carbon/styles/scss/theme' as *;
@use '@carbon/styles/scss/type' as *;
@use '@carbon/styles/scss/utilities' as *;
@use '@carbon/styles/scss/spacing' as *;
@use '@carbon/styles/scss/components/modal' as *;

/// Expressive modal
/// @access private
/// @group expressive-modal

@mixin expressive-modal {
  $modal: '.#{$prefix}--modal';
  $button-size: $spacing-09;
  $icon-size: rem(20px);
  $offset-close-icon: $spacing-07 - list.slash($button-size - $icon-size, 2);

  :host(#{$dds-prefix}-expressive-modal),
  #{$modal}--expressive {
    color: $text-primary;

    #{$modal}-container {
      padding: $spacing-05;
      min-height: $spacing-07 + $icon-size + $spacing-07;

      @include breakpoint(md) {
        padding: $spacing-07;
      }
    }

    #{$modal}-content {
      display: flex;
      padding-left: 0;
      padding-right: $button-size - $offset-close-icon;
      margin-bottom: 0;
      padding-top: 0;
    }
  }

  :host(#{$dds-prefix}-expressive-modal-footer) #{$modal}-footer {
    justify-content: flex-start;
    height: $spacing-09;
  }

  :host(#{$dds-prefix}-expressive-modal-close-button) {
    #{$modal}-close {
      position: fixed;
    }
  }

  :host(#{$dds-prefix}-expressive-modal-heading),
  #{$modal}--expressive #{$modal}-content h1 {
    @include type-style('heading-04');
  }

  :host(#{$dds-prefix}-expressive-modal)[expressive-size='full-width'],
  #{$modal}--expressive--fullwidth {
    @include breakpoint(md) {
      #{$modal}-container {
        width: calc(100% - #{$spacing-07});
        max-width: 96rem;
        height: calc(100% - #{$spacing-07});
        max-height: none;
      }
    }
  }

  :host(#{$dds-prefix}-expressive-modal[size='full-width'])
    ::slotted(#{$dds-prefix}-expressive-modal-body),
  :host(#{$dds-prefix}-expressive-modal[size='full-width'])
    ::slotted(#{$dds-prefix}-lightbox-media-viewer-body),
  #{$modal}--expressive--fullwidth #{$modal}-content {
    padding-right: 0;
    height: auto;
    min-height: rem(500px);
  }
}
