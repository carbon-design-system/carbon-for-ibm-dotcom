/**
 * @license
 *
 * Copyright IBM Corp. 2020, 2023
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */

@use '@carbon/styles/scss/breakpoint' as *;
@use '@carbon/styles/scss/config' as *;
@use '@carbon/styles/scss/spacing' as *;
@use '@carbon/styles/scss/theme' as *;
@use '@carbon/styles/scss/themes' as *;
@use '@carbon/styles/scss/type' as *;
@use '@carbon/styles/scss/components/button' as *;
@use '@carbon/ibmdotcom-styles/scss/globals/vars' as *;
@use '@carbon/ibmdotcom-styles/scss/components/filter-panel';
@use '../../../../carbon-web-components/src/components/modal/modal';

:host(#{$c4d-prefix}-filter-panel-modal) {
  @extend :host(#{$prefix}-modal);

  left: 0;

  @include breakpoint(lg) {
    display: none;
  }

  &[open] {
    @extend :host(#{$prefix}-modal[open]);
    @include breakpoint(lg) {
      display: none;
    }
  }

  &[expressive-size='full-width'] {
    .#{$prefix}--modal-container {
      max-height: none;

      @include breakpoint(lg) {
        width: calc(100% - $spacing-07);
        height: calc(100% - $spacing-07);
      }

      .#{$prefix}--modal-content {
        margin: $spacing-09 $spacing-07;
        padding: 0;
      }
    }
  }
  .#{$prefix}--filter-panel__section.#{$prefix}--modal-container {
    overflow: initial;
    @include breakpoint(md) {
      height: 80%;
      width: 60%;
    }
  }
}

:host(#{$c4d-prefix}-filter-group-item) {
  .#{$c4d-prefix}-filter-group-item__view-all {
    width: 100%;
    padding: $spacing-03 $spacing-05;
    text-align: left;
    cursor: pointer;

    &:focus-visible {
      outline: none;
      border-color: $focus;
      box-shadow: inset 0 0 0 $button-outline-width $focus,
        inset 0 0 0 $button-border-width $background;
    }
  }
}

:host(#{$c4d-prefix}-filter-modal-footer-button) {
  @extend :host(#{$prefix}-modal-footer-button);

  outline: 0;

  &[kind='tertiary'] {
    background-color: $button-secondary;
    color: $text-on-color;
  }

  &[disabled] {
    background-color: $text-disabled;
    color: $text-on-color-disabled;
  }

  .#{$prefix}--btn {
    @include type-style('body-short-01');

    max-width: none;
    width: 100%;
    border: none;
    height: $spacing-10;
  }

  .#{$prefix}--btn--tertiary {
    color: $text-on-color;

    &:hover {
      background-color: $button-secondary-hover;
    }

    &[disabled] {
      color: $text-on-color-disabled;

      &:hover {
        background-color: transparent;
      }
    }
  }

  .#{$prefix}--btn.#{$prefix}--btn--primary:focus {
    box-shadow: inset 0 0 0 $button-outline-width $focus,
      inset 0 0 0 $button-border-width $background;
    border: 1px solid $focus;
    inset: $text-on-color;
  }
}
