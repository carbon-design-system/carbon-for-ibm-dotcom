import { Preview, Props, Description, Story } from '@storybook/addon-docs/blocks';
import contributing from '../../../../../../docs/contributing-license.md';
import plex from '../../../../docs/plex.md';

# Masthead

> The masthead component is a required navigational pattern for IBM.com that
> displays consistently at the top of each page. It also includes search and
> profile services for IBM.com.

> ðŸ’¡ Check our
> [CodeSandbox](https://githubbox.com/carbon-design-system/carbon-for-ibm-dotcom/tree/master/packages/web-components/examples/codesandbox/components/masthead)
> example implementation.

[![Edit @carbon/ibmdotcom-web-components](https://codesandbox.io/static/img/play-codesandbox.svg)](https://githubbox.com/carbon-design-system/carbon-for-ibm-dotcom/tree/master/packages/web-components/examples/codesandbox/components/masthead)

## Getting Started
##### Note: Masthead uses the Carbon White theme by design. Using other themes will not change the Masthead color scheme.

### JS (via import)

```javascript
import '@carbon/ibmdotcom-web-components/es/components/masthead/masthead-container.js';
```

### JS (via CDN)

```html
<!-- LATEST tag -->
<script type="module" src="https://1.www.s81c.com/common/carbon-for-ibm-dotcom/latest/masthead.min.js"></script>

<!-- NEXT tag -->
<script type="module" src="https://1.www.s81c.com/common/carbon-for-ibm-dotcom/next/masthead.min.js"></script>

<!-- BETA tag -->
<script type="module" src="https://1.www.s81c.com/common/carbon-for-ibm-dotcom/beta/masthead.min.js"></script>

<!-- SPECIFIC VERSION (available starting v1.6.0) -->
<script type="module" src="https://1.www.s81c.com/common/carbon-for-ibm-dotcom/v1.6.0/masthead.min.js"></script>
```

<Description markdown={plex} />

### HTML

```html
<dds-masthead-container></dds-masthead-container>
```

#### Setting Platform

```html
<dds-masthead-container platform="Lorem Ipsum"></dds-masthead-container>
```

#### Custom Navigation

```javascript
const links = [...menu items...];
document.getElementById('masthead-container').navLinks = links;
```

#### Using L1 nav

To use L1 nav, set `l1Data` prop. `l1Data` prop should be an
object that contains the navigation data of L1 nav:

```javascipt
const l1Data = {
  platform: {
    name: 'Stock Charts',
    url: 'https://example.com/',
  },
  menuItems: (The nav links),
}
```

```html
<dds-masthead-container id="masthead-container"></dds-masthead-container>
```

To set a custom endpoint for the translation service to fetch from, set either the `data-endpoint` attribute like below or `DDS_TRANSLATION_ENDPOINT` environment variable.

```html
<dds-masthead-container data-endpoint="/custom-endpoint"></dds-masthead-container>
```

## Props

### `<dds-masthead-container>`/`<dds-masthead-composite>`

<Props of="dds-masthead-composite" />

## Stable selectors

See [our README](https://github.com/carbon-design-system/carbon-for-ibm-dotcom/tree/master/packages/web-components#stable-selectors-for-analytics-and-integratione2e-testing-in-web-components) to see how Web Components selector and `data-autoid` should be used.

| Web Components selector                                                                   | Compatibility selector                                                   | Description |
| ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------ | ----------- |
| `<dds-masthead>`                                                                          | `data-autoid="dds--masthead"`                                            | Component   |
| `<dds-masthead-menu-button>`                                                              | `data-autoid="dds--masthead__hamburger"`                                 | Interactive |
| `<dds-top-nav-name>`                                                                      | `data-autoid="dds--masthead__platform-name"`                             | Interactive |
| `<dds-top-nav>`                                                                           | `data-autoid="dds--masthead__l0-nav"`                                    | Component   |
| `<dds-top-nav-menu trigger-content="${item}">` and `<dds-top-nav-item title="${item}">`   | `data-autoid="dds--masthead__l0-nav--nav${item}"`                       | Interactive |
| `<dds-top-nav-menu-item title="${item}">`                                                 | `data-autoid="dds--masthead__l0-nav--subnav-col${item}-item${item}"`     | Interactive |
| `<dds-left-nav>`                                                                          | `data-autoid="dds--masthead__l0-sidenav"`                                | Component   |
| `<dds-left-nav-menu trigger-content="${item}">` and `<dds-left-nav-item title="${item}">` | `data-autoid="dds--masthead__l0-sidenav--nav${item}"`                   | Interactive |
| `<dds-left-nav-menu-item title="${item}">`                                                | `data-autoid="dds--masthead__l0-sidenav--subnav-col${item}-item${item}"` | Interactive |

### Scroll lock feature in mega menu

On megamenu expand, the body scroll of the page should lock. Make sure to import the following stylesheet
to enable this feature.

```javascript
@import '@carbon/ibmdotcom-styles/scss/components/masthead/masthead-megamenu-scroll';
```

<Description markdown={contributing} />
