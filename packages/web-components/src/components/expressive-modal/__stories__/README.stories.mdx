import {
  Preview,
  Props,
  Description,
  Story,
} from '@storybook/addon-docs/blocks';
import contributing from '../../../../../../docs/contributing-license.md';
import { cdnJs, cdnCss } from '../../../globals/internal/storybook-cdn';

# Expressive modal

> The `<cds-expressive-modal>` component is based on
> [Carbon's Modal component](https://custom-elements.carbondesignsystem.com/?path=/story/components-modal--default-story)
> with slight styling updates to increase readability and reduce strain.

> ðŸ’¡ Check our
> [CodeSandbox](https://githubbox.com/carbon-design-system/carbon-for-ibm-dotcom/tree/main/packages/web-components/examples/codesandbox/components/expressive-modal)
> example implementation.

[![Edit @carbon/ibmdotcom-web-components](https://codesandbox.io/static/img/play-codesandbox.svg)](https://githubbox.com/carbon-design-system/carbon-for-ibm-dotcom/tree/main/packages/web-components/examples/codesandbox/components/expressive-modal)

## Getting started

Here's a quick example to get you started.

### JS (via import)

```javascript
import '@carbon/ibmdotcom-web-components/es/components/expressive-modal/index.js';
```

<Description markdown={`${cdnJs({ components: ['expressive-modal'] })}`} />

<Description markdown={`${cdnCss()}`} />

### HTML

```html
<cds-expressive-modal open>
  <cds-expressive-modal-header>
    <cds-expressive-modal-close-button
      role="button"></cds-expressive-modal-close-button>
    <cds-expressive-modal-heading>Modal Title</cds-expressive-modal-heading>
  </cds-expressive-modal-header>
  <cds-expressive-modal-body>
    Quisque felis odio, egestas vel tempus iaculis, interdum vel eros. Phasellus
    pharetra, purus et pretium posuere, ipsum risus pulvinar leo, non rutrum
    tortor risus vitae quam. Nulla sed nibh felis. Maecenas nec tincidunt eros.
    Fusce sollicitudin sit amet quam eu fringilla. Donec tincidunt ut nisi vitae
    pharetra. Curabitur imperdiet ante sit amet mi laoreet, vitae facilisis ante
    convallis. Aenean quis dapibus augue. Sed nisl dui, scelerisque et augue
    eget, pharetra commodo elit. In venenatis sapien eu nisl congue suscipit.
  </cds-expressive-modal-body>
  <cds-expressive-modal-footer slot="footer">
    <cds-button kind="primary">
      Lorem ipsum dolor
      <svg
        slot="icon"
        focusable="false"
        preserveAspectRatio="xMidYMid meet"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
        width="20"
        height="20"
        viewBox="0 0 20 20">
        <path
          d="M11.8 2.8L10.8 3.8 16.2 9.3 1 9.3 1 10.7 16.2 10.7 10.8 16.2 11.8 17.2 19 10z"></path>
      </svg>
    </cds-button>
  </cds-expressive-modal-footer>
</cds-expressive-modal>
```

## Accessibility Notes

### Dialog labeling

The expressive modal anticipates content within the `header` slot to be used as
the accessible aria label for the dialog box. Even if a design does not call for
the modal to have content in the title slot, it is _required_ for accessibility.
The header can be visually hidden using the `.cds--visually-hidden` or
`.cds--assistive-text` classes. This will prevent the text from rendering on the
screen, but will still be announced to assistive technology users.

```html
<cds-expressive-modal id="my-lightbox" expressive-size="full-width">
  <cds-expressive-modal-close-button></cds-expressive-modal-close-button>
  <span class="cds--visually-hidden" slot="header">Dialog box label text</span>
  ...
</cds-expressive-modal>
```

## Opening/closing modal from code

Opening/closing modal from code can be done by changing `open`
attribute/property. For example we have HTML like this:

```html
<cds-button id="my-btn">Open modal</cds-button>
<cds-expressive-modal id="my-modal"> ... </cds-expressive-modal>
```

We can make the button open the modal by:

```javascript
document.getElementById('my-btn').addEventListener('click', () => {
  document.getElementById('my-modal').open = true;
});
```

## Props

### `<cds-expressive-modal>`

**Note**: The events with `cds-` prefix and `size` attribute/property came from
deriving `<cds-modal>`, but _not_ used in `<cds-expressive-modal>`.

<Props of="cds-expressive-modal" />

### `<cds-expressive-modal-header>`

<Props of="cds-expressive-modal-header" />

### `<cds-expressive-modal-footer>`

<Props of="cds-expressive-modal-footer" />

## Stable selectors

See
[our README](https://github.com/carbon-design-system/carbon-for-ibm-dotcom/tree/main/packages/web-components#stable-selectors-for-analytics-and-integratione2e-testing-in-web-components)
to see how Web Components selector and `data-autoid` should be used.

| Web Components selector  | Compatibility selector                | Description |
| ------------------------ | ------------------------------------- | ----------- |
| `<cds-expressive-modal>` | `data-autoid="cds--expressive-modal"` | Component   |

<Description markdown={contributing} />
