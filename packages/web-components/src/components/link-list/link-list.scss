/**
 * @license
 *
 * Copyright IBM Corp. 2020, 2022
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */

@use '@carbon/styles/scss/breakpoint' as *;
@use '@carbon/styles/scss/config' as *;
@use '@carbon/styles/scss/spacing' as *;
@use '@carbon/styles/scss/theme' as *;
@use '@carbon/ibmdotcom-styles/scss/components/link-list';
@use '@carbon/ibmdotcom-styles/scss/globals/utils/hang';
@use '@carbon/ibmdotcom-styles/scss/globals/vars' as *;

:host(#{$cds-prefix}-link-list-heading),
:host(#{$cds-prefix}-link-list-item) {
  display: block;

  .#{$prefix}--link {
    cursor: pointer;
  }
}

:host(#{$cds-prefix}-link-list-item) {
  &:focus {
    outline: none;
  }
}

:host(#{$cds-prefix}-link-list-item-card) .#{$prefix}--link:focus {
  outline: $spacing-01 solid $focus;
  outline-offset: -#{$spacing-01};
}

:host(#{$cds-prefix}-link-list-item)
  .cds--link-with-icon__icon-left
  ::slotted(svg[slot='icon']),
:host(#{$cds-prefix}-link-list-item-cta)
  .cds--link-with-icon__icon-left
  ::slotted(svg[slot='icon']) {
  min-width: 20px;
  min-height: 20px;
}

:host(#{$cds-prefix}-link-list-item)[type='end'],
:host(#{$cds-prefix}-link-list-item-cta)[type='end'] {
  outline: none;

  &:hover {
    .#{$prefix}--link {
      text-decoration: none;
      background: $background-hover;
    }
  }

  .#{$prefix}--link {
    // TODO: See if there is a better solution than an internal custom property
    padding: var(--#{$cds-prefix}--link-list-item--anchor-padding, 0);
    display: flex;
  }
}

:host(#{$cds-prefix}-link-list):last-of-type {
  padding-bottom: $spacing-10;
}

:host(#{$cds-prefix}-link-list) {
  padding-bottom: 0;

  .#{$prefix}--link-list__list--card,
  .#{$prefix}--link-list__list--vertical,
  .#{$cds-prefix}-ce--link-list__list--end {
    display: grid;
    grid-auto-rows: 1fr;

    ::slotted(#{$cds-prefix}-link-list-item),
    ::slotted(#{$cds-prefix}-link-list-item-cta) {
      outline: none;
    }
  }

  .#{$prefix}--link-list__list--vertical {
    grid-auto-rows: auto;
  }

  .#{$prefix}--link-list__list--card,
  .#{$cds-prefix}-ce--link-list__list--end {
    ::slotted(#{$cds-prefix}-link-list-item),
    ::slotted(#{$cds-prefix}-link-list-item-cta) {
      display: grid;
    }
  }

  .#{$prefix}--link-list__list--vertical
    ::slotted(#{$cds-prefix}-link-list-item) {
    display: flex;
  }

  .#{$cds-prefix}-ce--link-list__list--end {
    ::slotted(#{$cds-prefix}-link-list-item),
    ::slotted(#{$cds-prefix}-link-list-item-cta) {
      border-top: 1px solid $border-subtle-01;
      border-bottom: 1px solid $border-subtle-01;
      margin-top: -1px;
      margin-left: -$spacing-05;
      --#{$cds-prefix}--link-list-item--anchor-padding: #{$spacing-05};

      @include breakpoint(md) {
        margin-right: -$spacing-05;
      }
    }
  }

  .#{$cds-prefix}-ce--link-list__heading__wrapper {
    display: contents;
  }

  @include breakpoint(md) {
    .#{$cds-prefix}-ce--link-list__heading--split
      ::slotted(#{$cds-prefix}-link-list-heading) {
      width: 33.3%;
      padding-right: 10%;
    }
  }

  .#{$cds-prefix}-ce--link-list__list--split,
  .#{$cds-prefix}-ce--link-list__list--three-columns {
    ::slotted(#{$cds-prefix}-link-list-item) {
      display: grid;
      align-items: stretch;
      margin-right: -$spacing-05;
    }

    @include breakpoint(md) {
      display: grid;
      grid-column-gap: $spacing-07;

      ::slotted(#{$cds-prefix}-link-list-item) {
        margin-left: -$spacing-05;
        margin-right: 0;
      }
    }
  }

  .#{$cds-prefix}-ce--link-list__list--split {
    @include breakpoint(md) {
      grid-template-columns: 1fr 1fr;
    }
  }

  .#{$cds-prefix}-ce--link-list__list--three-columns {
    @include breakpoint(md) {
      grid-template-columns: 1fr 1fr 1fr;
    }
  }
}
